{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/matheus/Documents/drive-sync/Projects/endor/packages/web/src/pages/live.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport { useRouter } from 'next/router';\nimport React, { useCallback, useEffect, useState, useRef } from 'react';\nimport { FiSend } from 'react-icons/fi';\nimport { Flex, Box, Text, Textarea, Button, Tooltip, useDisclosure } from '@chakra-ui/core';\nimport { format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport isUuid from 'is-uuid';\nimport io from 'socket.io-client';\nimport MessageBox from '@/components/MessageBox';\nimport SetUsernameForLiveTelespectors from '@/components/Modals/SetUsernameForLiveTelespectors';\nimport SEO from '@/components/SEO';\nimport Title from '@/components/Title';\nimport api from '@/services/api';\nimport { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nvar _ref3 = false ? {\n  name: \"9z75ta-Live\",\n  styles: \"color:gray.200;;label:Live;\"\n} : {\n  name: \"9z75ta-Live\",\n  styles: \"color:gray.200;;label:Live;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21hdGhldXMvRG9jdW1lbnRzL2RyaXZlLXN5bmMvUHJvamVjdHMvZW5kb3IvcGFja2FnZXMvd2ViL3NyYy9wYWdlcy9saXZlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrTXFCIiwiZmlsZSI6Ii9ob21lL21hdGhldXMvRG9jdW1lbnRzL2RyaXZlLXN5bmMvUHJvamVjdHMvZW5kb3IvcGFja2FnZXMvd2ViL3NyYy9wYWdlcy9saXZlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRmlTZW5kIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xuXG5pbXBvcnQge1xuICBGbGV4LFxuICBCb3gsXG4gIFRleHQsXG4gIFRleHRhcmVhLFxuICBCdXR0b24sXG4gIFRvb2x0aXAsXG4gIHVzZURpc2Nsb3N1cmUsXG59IGZyb20gJ0BjaGFrcmEtdWkvY29yZSc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XG5pbXBvcnQgeyBwdEJSIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJztcbmltcG9ydCBpc1V1aWQgZnJvbSAnaXMtdXVpZCc7XG5pbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG5cbmltcG9ydCBNZXNzYWdlQm94IGZyb20gJ0AvY29tcG9uZW50cy9NZXNzYWdlQm94JztcbmltcG9ydCBTZXRVc2VybmFtZUZvckxpdmVUZWxlc3BlY3RvcnMgZnJvbSAnQC9jb21wb25lbnRzL01vZGFscy9TZXRVc2VybmFtZUZvckxpdmVUZWxlc3BlY3RvcnMnO1xuaW1wb3J0IFNFTyBmcm9tICdAL2NvbXBvbmVudHMvU0VPJztcbmltcG9ydCBUaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvVGl0bGUnO1xuaW1wb3J0IGFwaSBmcm9tICdAL3NlcnZpY2VzL2FwaSc7XG5cbmludGVyZmFjZSBJTWVzc2FnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHNlbmRlcjogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuaW50ZXJmYWNlIERlY2Vhc2VkIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGxpdmVfY2hhdF9saW5rPzogc3RyaW5nO1xuICBmdW5lcmFsX2luaXRpYWxfZGF0ZT86IHN0cmluZztcbiAgZnVuZXJhbF9maW5hbF9kYXRlPzogc3RyaW5nO1xuICBzZXB1bHRpbmdfZGF0ZT86IHN0cmluZztcbiAgZnVuZXJhbD86IHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGNlbWV0ZXJ5Pzoge1xuICAgICAgbmFtZT86IHN0cmluZztcbiAgICB9O1xuICB9O1xufVxuXG5jb25zdCBMaXZlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgY29uc3QgW2RlY2Vhc2VkLCBzZXREZWNlYXNlZF0gPSB1c2VTdGF0ZTxEZWNlYXNlZD4oe30gYXMgRGVjZWFzZWQpO1xuICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxJTWVzc2FnZVtdPihbXSBhcyBJTWVzc2FnZVtdKTtcblxuICBjb25zdCBtZXNzYWdlc0NvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3Qge1xuICAgIGlzT3BlbjogaXNHZXRVc2VybmFtZU1vZGFsT3BlbixcbiAgICBvbk9wZW46IG9uT3BlbkdldFVzZXJuYW1lTW9kYWwsXG4gICAgb25DbG9zZTogb25DbG9zZUdldFVzZXJuYW1lTW9kYWwsXG4gIH0gPSB1c2VEaXNjbG9zdXJlKCk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9MYXN0TWVzc2FnZSA9IHVzZUNhbGxiYWNrKChpZ25vcmVTY3JvbGxUb3BPZmZzZXQgPSBmYWxzZSkgPT4ge1xuICAgIGlmICghbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBzY3JvbGxIZWlnaHQsIHNjcm9sbFRvcCB9ID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudDtcblxuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0KTtcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCk7XG5cbiAgICBpZiAoIWlnbm9yZVNjcm9sbFRvcE9mZnNldCAmJiBzY3JvbGxIZWlnaHQgLSBzY3JvbGxUb3AgPj0gMTAwMCkgcmV0dXJuO1xuXG4gICAgbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudD8uc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBzY3JvbGxIZWlnaHQsXG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNjcm9sbFRvTGFzdE1lc3NhZ2UoKTtcbiAgfSwgW21lc3NhZ2VzLCBzY3JvbGxUb0xhc3RNZXNzYWdlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBxdWVyeUlkID0gcm91dGVyLnF1ZXJ5LmlkIGFzIHN0cmluZztcblxuICAgIGlmIChxdWVyeUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXF1ZXJ5SWQubGVuZ3RoIHx8ICFpc1V1aWQudjQocXVlcnlJZCkpIHtcbiAgICAgIHJvdXRlci5yZXBsYWNlKCcvbG9naW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvbk9wZW5HZXRVc2VybmFtZU1vZGFsKCk7XG5cbiAgICBhcGkuZ2V0KGBkZWNlYXNlZHMvJHtxdWVyeUlkfWApLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgc2V0RGVjZWFzZWQocmVzcG9uc2UuZGF0YSk7XG4gICAgfSk7XG5cbiAgICBhcGkuZ2V0KGAvbWVzc2FnZXMvJHtxdWVyeUlkfWApLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZXNSZXNwb25zZSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzUmVzcG9uc2UpO1xuICAgICAgc2Nyb2xsVG9MYXN0TWVzc2FnZSh0cnVlKTtcbiAgICB9KTtcbiAgfSwgW3JvdXRlci5xdWVyeS5pZF0pO1xuXG4gIGNvbnN0IG9uU2F2ZVVzZXJuYW1lID0gdXNlQ2FsbGJhY2soXG4gICAgKG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgc2V0VXNlcm5hbWUobmFtZSk7XG5cbiAgICAgIG9uQ2xvc2VHZXRVc2VybmFtZU1vZGFsKCk7XG5cbiAgICAgIGNvbnN0IHNvY2tldCA9IGlvKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwsIHtcbiAgICAgICAgcXVlcnk6IHsgdXNlcm5hbWU6IG5hbWUgfSxcbiAgICAgIH0pO1xuXG4gICAgICBzb2NrZXQuZW1pdCgnam9pbicsIGRlY2Vhc2VkLmlkKTtcblxuICAgICAgc29ja2V0Lm9uKCduZXcnLCAobXNnOiBJTWVzc2FnZSkgPT4ge1xuICAgICAgICBzZXRNZXNzYWdlcyhzdGF0ZSA9PiBbLi4uc3RhdGUsIG1zZ10pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZGVjZWFzZWRdLFxuICApO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdE1lc3NhZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZURhdGEgPSB7XG4gICAgICBzZW5kZXI6IHVzZXJuYW1lLFxuICAgICAgY29udGVudDogbWVzc2FnZSxcbiAgICAgIGNoYW5uZWw6IGRlY2Vhc2VkLmlkLFxuICAgIH07XG5cbiAgICBhd2FpdCBhcGkucG9zdCgnL21lc3NhZ2VzJywgbWVzc2FnZURhdGEpO1xuXG4gICAgc2V0TWVzc2FnZSgnJyk7XG4gIH0sIFttZXNzYWdlLCB1c2VybmFtZSwgZGVjZWFzZWQsIHNjcm9sbFRvTGFzdE1lc3NhZ2VdKTtcblxuICBjb25zdCBoYW5kbGVLZXlVcCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgaGFuZGxlU3VibWl0TWVzc2FnZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2hhbmRsZVN1Ym1pdE1lc3NhZ2VdLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxTRU9cbiAgICAgICAgdGl0bGU9XCJFbmRvclwiXG4gICAgICAgIGltYWdlPVwib2cvYm9vc3QucG5nXCJcbiAgICAgICAgc2hvdWxkRXhjbHVkZVRpdGxlU3VmZml4XG4gICAgICAgIGRlc2NyaXB0aW9uPVwiRmF6ZXIgbG9naW4gbmEgcGxhdGFmb3JtYVwiXG4gICAgICAvPlxuXG4gICAgICA8U2V0VXNlcm5hbWVGb3JMaXZlVGVsZXNwZWN0b3JzXG4gICAgICAgIG9uU2F2ZT17b25TYXZlVXNlcm5hbWV9XG4gICAgICAgIGlzT3Blbj17aXNHZXRVc2VybmFtZU1vZGFsT3Blbn1cbiAgICAgICAgb25DbG9zZT17b25DbG9zZUdldFVzZXJuYW1lTW9kYWx9XG4gICAgICAvPlxuXG4gICAgICA8Qm94XG4gICAgICAgIGRpc3BsYXk9XCJncmlkXCJcbiAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1ucz1cIjc1JSAyNSVcIlxuICAgICAgICBncmlkVGVtcGxhdGVSb3dzPVwiMTAwJVwiXG4gICAgICAgIGFzPVwibWFpblwiXG4gICAgICAgIGhlaWdodD1cIjEwMHZoXCJcbiAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgcGFkZGluZ1g9ezZ9XG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cImdyYXkuOTAwXCJcbiAgICAgICAgcGFkZGluZ1RvcD17OH1cbiAgICAgICAgcGFkZGluZ0JvdHRvbT17OH1cbiAgICAgICAgcGFkZGluZ1JpZ2h0PXs4fVxuICAgICAgPlxuICAgICAgICA8RmxleCBkaXJlY3Rpb249XCJjb2x1bW5cIiBtYXJnaW5SaWdodD17OH0+XG4gICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgc3JjPXtkZWNlYXNlZC5saXZlX2NoYXRfbGlua31cbiAgICAgICAgICAgIGZyYW1lQm9yZGVyPVwiMFwiXG4gICAgICAgICAgICB0aXRsZT17ZGVjZWFzZWQuaWR9XG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICc3NSUnIH19XG4gICAgICAgICAgPjwvaWZyYW1lPlxuICAgICAgICAgIDxGbGV4XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjgwMFwiXG4gICAgICAgICAgICBtYXJnaW5Ub3A9ezh9XG4gICAgICAgICAgICBwYWRkaW5nVG9wPXs2fVxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0PXs2fVxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ9ezZ9XG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tPXs2fVxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzPVwibWRcIlxuICAgICAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgICAgIGhlaWdodD1cIjI1JVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEJveCB3aWR0aD1cIjEwMCVcIiBjb2xvcj1cImdyYXkuMjAwXCI+XG4gICAgICAgICAgICAgIDxUaXRsZSBjc3M9e3sgY29sb3I6ICdncmF5LjIwMCcgfX0+e2RlY2Vhc2VkLm5hbWV9PC9UaXRsZT5cbiAgICAgICAgICAgICAgPFRleHQgZm9udFNpemU9XCJ4bFwiPntkZWNlYXNlZD8uZnVuZXJhbD8ubmFtZX08L1RleHQ+XG4gICAgICAgICAgICAgIHtkZWNlYXNlZC5mdW5lcmFsX2ZpbmFsX2RhdGUgJiZcbiAgICAgICAgICAgICAgICBkZWNlYXNlZC5mdW5lcmFsX2luaXRpYWxfZGF0ZSAmJlxuICAgICAgICAgICAgICAgIGRlY2Vhc2VkLnNlcHVsdGluZ19kYXRlICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxGbGV4PlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwieGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGRlY2Vhc2VkLmZ1bmVyYWxfaW5pdGlhbF9kYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCInVmVsw7NyaW86ICdkZCcvJ01NJy8neXl5eSAnZGFzJyBISDptbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGxvY2FsZTogcHRCUiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsnIMOgcyAnfVxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZGVjZWFzZWQuZnVuZXJhbF9maW5hbF9kYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0hIOm1tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZTogcHRCUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICAgICAgICAgIDxGbGV4PlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwieGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGRlY2Vhc2VkLnNlcHVsdGluZ19kYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCInU2VwdWx0YW1lbnRvOiAnZGQnLydNTScvJ3l5eXkgJ8OgcycgSEg6bW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBsb2NhbGU6IHB0QlIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICA8L0ZsZXg+XG4gICAgICAgIDxGbGV4XG4gICAgICAgICAgZGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjgwMFwiXG4gICAgICAgICAgYm9yZGVyUmFkaXVzPVwibWRcIlxuICAgICAgICAgIHdpZHRoPVwiMTAwJVwiXG4gICAgICAgICAgbWF4SGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgICAgcGFkZGluZz17Nn1cbiAgICAgICAgPlxuICAgICAgICAgIDxCb3ggbWFyZ2luQm90dG9tPXs4fSB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIzJVwiIGNvbG9yPVwiZ3JheS4yMDBcIj5cbiAgICAgICAgICAgIDxUaXRsZSBjc3M9e3sgY29sb3I6ICdncmF5LjIwMCcgfX0+Q2hhdDwvVGl0bGU+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPEZsZXhcbiAgICAgICAgICAgIGRpcmVjdGlvbj1cImNvbHVtblwiXG4gICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxuICAgICAgICAgICAgaGVpZ2h0PVwiODUlXCJcbiAgICAgICAgICAgIG92ZXJmbG93WT1cImF1dG9cIlxuICAgICAgICAgICAgYm9yZGVyQm90dG9tPVwiMnB4IHNvbGlkICNmZmZcIlxuICAgICAgICAgICAgcmVmPXttZXNzYWdlc0NvbnRhaW5lclJlZn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bWVzc2FnZXMubWFwKGFjdHVhbE1lc3NhZ2UgPT4gKFxuICAgICAgICAgICAgICA8TWVzc2FnZUJveFxuICAgICAgICAgICAgICAgIGtleT17YWN0dWFsTWVzc2FnZS5pZH1cbiAgICAgICAgICAgICAgICB1c2VybmFtZT17YWN0dWFsTWVzc2FnZS5zZW5kZXJ9XG4gICAgICAgICAgICAgICAgbWVzc2FnZT17YWN0dWFsTWVzc2FnZS5jb250ZW50fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgIDxGbGV4IHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEyJVwiIHBhZGRpbmdUb3A9ezJ9PlxuICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleVVwPXtlID0+IGhhbmRsZUtleVVwKGUpfVxuICAgICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEaWdpdGUgc3VhIG1lbnNhZ2VtXCJcbiAgICAgICAgICAgICAgY29sb3I9XCJXaGl0ZVwiXG4gICAgICAgICAgICAgIHdpZHRoPVwiODYlXCJcbiAgICAgICAgICAgICAgYm9yZGVyPXswfVxuICAgICAgICAgICAgICBtaW5IZWlnaHQ9ezJ9XG4gICAgICAgICAgICAgIGhlaWdodD1cIjEwMCVcIlxuICAgICAgICAgICAgICByZXNpemU9XCJub25lXCJcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzPVwiOHB4IDAgMCA4cHhcIlxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjcwMFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFRvb2x0aXAgbGFiZWw9XCJFbnZpYXIgbWVuc2FnZW1cIiBhcmlhLWxhYmVsPVwiRW52aWFyIG1lbnNhZ2VtXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIHdpZHRoPVwiMTQlXCJcbiAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxMDAlXCJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjcwMFwiXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzPVwiMCA4cHggOHB4IDBcIlxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCJcbiAgICAgICAgICAgICAgICBfaG92ZXI9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2dyYXkuOTAwJyxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEZpU2VuZCBjb2xvcj1cIldoaXRlXCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgPC9GbGV4PlxuICAgICAgPC9Cb3g+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXZlO1xuIl19 */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\n\nvar _ref4 = false ? {\n  name: \"9z75ta-Live\",\n  styles: \"color:gray.200;;label:Live;\"\n} : {\n  name: \"9z75ta-Live\",\n  styles: \"color:gray.200;;label:Live;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21hdGhldXMvRG9jdW1lbnRzL2RyaXZlLXN5bmMvUHJvamVjdHMvZW5kb3IvcGFja2FnZXMvd2ViL3NyYy9wYWdlcy9saXZlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnUG1CIiwiZmlsZSI6Ii9ob21lL21hdGhldXMvRG9jdW1lbnRzL2RyaXZlLXN5bmMvUHJvamVjdHMvZW5kb3IvcGFja2FnZXMvd2ViL3NyYy9wYWdlcy9saXZlLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRmlTZW5kIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xuXG5pbXBvcnQge1xuICBGbGV4LFxuICBCb3gsXG4gIFRleHQsXG4gIFRleHRhcmVhLFxuICBCdXR0b24sXG4gIFRvb2x0aXAsXG4gIHVzZURpc2Nsb3N1cmUsXG59IGZyb20gJ0BjaGFrcmEtdWkvY29yZSc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XG5pbXBvcnQgeyBwdEJSIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJztcbmltcG9ydCBpc1V1aWQgZnJvbSAnaXMtdXVpZCc7XG5pbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG5cbmltcG9ydCBNZXNzYWdlQm94IGZyb20gJ0AvY29tcG9uZW50cy9NZXNzYWdlQm94JztcbmltcG9ydCBTZXRVc2VybmFtZUZvckxpdmVUZWxlc3BlY3RvcnMgZnJvbSAnQC9jb21wb25lbnRzL01vZGFscy9TZXRVc2VybmFtZUZvckxpdmVUZWxlc3BlY3RvcnMnO1xuaW1wb3J0IFNFTyBmcm9tICdAL2NvbXBvbmVudHMvU0VPJztcbmltcG9ydCBUaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvVGl0bGUnO1xuaW1wb3J0IGFwaSBmcm9tICdAL3NlcnZpY2VzL2FwaSc7XG5cbmludGVyZmFjZSBJTWVzc2FnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHNlbmRlcjogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuaW50ZXJmYWNlIERlY2Vhc2VkIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGxpdmVfY2hhdF9saW5rPzogc3RyaW5nO1xuICBmdW5lcmFsX2luaXRpYWxfZGF0ZT86IHN0cmluZztcbiAgZnVuZXJhbF9maW5hbF9kYXRlPzogc3RyaW5nO1xuICBzZXB1bHRpbmdfZGF0ZT86IHN0cmluZztcbiAgZnVuZXJhbD86IHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGNlbWV0ZXJ5Pzoge1xuICAgICAgbmFtZT86IHN0cmluZztcbiAgICB9O1xuICB9O1xufVxuXG5jb25zdCBMaXZlOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgY29uc3QgW2RlY2Vhc2VkLCBzZXREZWNlYXNlZF0gPSB1c2VTdGF0ZTxEZWNlYXNlZD4oe30gYXMgRGVjZWFzZWQpO1xuICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxJTWVzc2FnZVtdPihbXSBhcyBJTWVzc2FnZVtdKTtcblxuICBjb25zdCBtZXNzYWdlc0NvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3Qge1xuICAgIGlzT3BlbjogaXNHZXRVc2VybmFtZU1vZGFsT3BlbixcbiAgICBvbk9wZW46IG9uT3BlbkdldFVzZXJuYW1lTW9kYWwsXG4gICAgb25DbG9zZTogb25DbG9zZUdldFVzZXJuYW1lTW9kYWwsXG4gIH0gPSB1c2VEaXNjbG9zdXJlKCk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9MYXN0TWVzc2FnZSA9IHVzZUNhbGxiYWNrKChpZ25vcmVTY3JvbGxUb3BPZmZzZXQgPSBmYWxzZSkgPT4ge1xuICAgIGlmICghbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBzY3JvbGxIZWlnaHQsIHNjcm9sbFRvcCB9ID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudDtcblxuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0KTtcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCk7XG5cbiAgICBpZiAoIWlnbm9yZVNjcm9sbFRvcE9mZnNldCAmJiBzY3JvbGxIZWlnaHQgLSBzY3JvbGxUb3AgPj0gMTAwMCkgcmV0dXJuO1xuXG4gICAgbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudD8uc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBzY3JvbGxIZWlnaHQsXG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNjcm9sbFRvTGFzdE1lc3NhZ2UoKTtcbiAgfSwgW21lc3NhZ2VzLCBzY3JvbGxUb0xhc3RNZXNzYWdlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBxdWVyeUlkID0gcm91dGVyLnF1ZXJ5LmlkIGFzIHN0cmluZztcblxuICAgIGlmIChxdWVyeUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXF1ZXJ5SWQubGVuZ3RoIHx8ICFpc1V1aWQudjQocXVlcnlJZCkpIHtcbiAgICAgIHJvdXRlci5yZXBsYWNlKCcvbG9naW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvbk9wZW5HZXRVc2VybmFtZU1vZGFsKCk7XG5cbiAgICBhcGkuZ2V0KGBkZWNlYXNlZHMvJHtxdWVyeUlkfWApLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgc2V0RGVjZWFzZWQocmVzcG9uc2UuZGF0YSk7XG4gICAgfSk7XG5cbiAgICBhcGkuZ2V0KGAvbWVzc2FnZXMvJHtxdWVyeUlkfWApLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZXNSZXNwb25zZSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzUmVzcG9uc2UpO1xuICAgICAgc2Nyb2xsVG9MYXN0TWVzc2FnZSh0cnVlKTtcbiAgICB9KTtcbiAgfSwgW3JvdXRlci5xdWVyeS5pZF0pO1xuXG4gIGNvbnN0IG9uU2F2ZVVzZXJuYW1lID0gdXNlQ2FsbGJhY2soXG4gICAgKG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgc2V0VXNlcm5hbWUobmFtZSk7XG5cbiAgICAgIG9uQ2xvc2VHZXRVc2VybmFtZU1vZGFsKCk7XG5cbiAgICAgIGNvbnN0IHNvY2tldCA9IGlvKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwsIHtcbiAgICAgICAgcXVlcnk6IHsgdXNlcm5hbWU6IG5hbWUgfSxcbiAgICAgIH0pO1xuXG4gICAgICBzb2NrZXQuZW1pdCgnam9pbicsIGRlY2Vhc2VkLmlkKTtcblxuICAgICAgc29ja2V0Lm9uKCduZXcnLCAobXNnOiBJTWVzc2FnZSkgPT4ge1xuICAgICAgICBzZXRNZXNzYWdlcyhzdGF0ZSA9PiBbLi4uc3RhdGUsIG1zZ10pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZGVjZWFzZWRdLFxuICApO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdE1lc3NhZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZURhdGEgPSB7XG4gICAgICBzZW5kZXI6IHVzZXJuYW1lLFxuICAgICAgY29udGVudDogbWVzc2FnZSxcbiAgICAgIGNoYW5uZWw6IGRlY2Vhc2VkLmlkLFxuICAgIH07XG5cbiAgICBhd2FpdCBhcGkucG9zdCgnL21lc3NhZ2VzJywgbWVzc2FnZURhdGEpO1xuXG4gICAgc2V0TWVzc2FnZSgnJyk7XG4gIH0sIFttZXNzYWdlLCB1c2VybmFtZSwgZGVjZWFzZWQsIHNjcm9sbFRvTGFzdE1lc3NhZ2VdKTtcblxuICBjb25zdCBoYW5kbGVLZXlVcCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgaGFuZGxlU3VibWl0TWVzc2FnZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2hhbmRsZVN1Ym1pdE1lc3NhZ2VdLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxTRU9cbiAgICAgICAgdGl0bGU9XCJFbmRvclwiXG4gICAgICAgIGltYWdlPVwib2cvYm9vc3QucG5nXCJcbiAgICAgICAgc2hvdWxkRXhjbHVkZVRpdGxlU3VmZml4XG4gICAgICAgIGRlc2NyaXB0aW9uPVwiRmF6ZXIgbG9naW4gbmEgcGxhdGFmb3JtYVwiXG4gICAgICAvPlxuXG4gICAgICA8U2V0VXNlcm5hbWVGb3JMaXZlVGVsZXNwZWN0b3JzXG4gICAgICAgIG9uU2F2ZT17b25TYXZlVXNlcm5hbWV9XG4gICAgICAgIGlzT3Blbj17aXNHZXRVc2VybmFtZU1vZGFsT3Blbn1cbiAgICAgICAgb25DbG9zZT17b25DbG9zZUdldFVzZXJuYW1lTW9kYWx9XG4gICAgICAvPlxuXG4gICAgICA8Qm94XG4gICAgICAgIGRpc3BsYXk9XCJncmlkXCJcbiAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1ucz1cIjc1JSAyNSVcIlxuICAgICAgICBncmlkVGVtcGxhdGVSb3dzPVwiMTAwJVwiXG4gICAgICAgIGFzPVwibWFpblwiXG4gICAgICAgIGhlaWdodD1cIjEwMHZoXCJcbiAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgcGFkZGluZ1g9ezZ9XG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cImdyYXkuOTAwXCJcbiAgICAgICAgcGFkZGluZ1RvcD17OH1cbiAgICAgICAgcGFkZGluZ0JvdHRvbT17OH1cbiAgICAgICAgcGFkZGluZ1JpZ2h0PXs4fVxuICAgICAgPlxuICAgICAgICA8RmxleCBkaXJlY3Rpb249XCJjb2x1bW5cIiBtYXJnaW5SaWdodD17OH0+XG4gICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgc3JjPXtkZWNlYXNlZC5saXZlX2NoYXRfbGlua31cbiAgICAgICAgICAgIGZyYW1lQm9yZGVyPVwiMFwiXG4gICAgICAgICAgICB0aXRsZT17ZGVjZWFzZWQuaWR9XG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICc3NSUnIH19XG4gICAgICAgICAgPjwvaWZyYW1lPlxuICAgICAgICAgIDxGbGV4XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjgwMFwiXG4gICAgICAgICAgICBtYXJnaW5Ub3A9ezh9XG4gICAgICAgICAgICBwYWRkaW5nVG9wPXs2fVxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0PXs2fVxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ9ezZ9XG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tPXs2fVxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzPVwibWRcIlxuICAgICAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgICAgIGhlaWdodD1cIjI1JVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEJveCB3aWR0aD1cIjEwMCVcIiBjb2xvcj1cImdyYXkuMjAwXCI+XG4gICAgICAgICAgICAgIDxUaXRsZSBjc3M9e3sgY29sb3I6ICdncmF5LjIwMCcgfX0+e2RlY2Vhc2VkLm5hbWV9PC9UaXRsZT5cbiAgICAgICAgICAgICAgPFRleHQgZm9udFNpemU9XCJ4bFwiPntkZWNlYXNlZD8uZnVuZXJhbD8ubmFtZX08L1RleHQ+XG4gICAgICAgICAgICAgIHtkZWNlYXNlZC5mdW5lcmFsX2ZpbmFsX2RhdGUgJiZcbiAgICAgICAgICAgICAgICBkZWNlYXNlZC5mdW5lcmFsX2luaXRpYWxfZGF0ZSAmJlxuICAgICAgICAgICAgICAgIGRlY2Vhc2VkLnNlcHVsdGluZ19kYXRlICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxGbGV4PlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwieGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGRlY2Vhc2VkLmZ1bmVyYWxfaW5pdGlhbF9kYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCInVmVsw7NyaW86ICdkZCcvJ01NJy8neXl5eSAnZGFzJyBISDptbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGxvY2FsZTogcHRCUiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsnIMOgcyAnfVxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZGVjZWFzZWQuZnVuZXJhbF9maW5hbF9kYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0hIOm1tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZTogcHRCUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICAgICAgICAgIDxGbGV4PlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwieGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGRlY2Vhc2VkLnNlcHVsdGluZ19kYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCInU2VwdWx0YW1lbnRvOiAnZGQnLydNTScvJ3l5eXkgJ8OgcycgSEg6bW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBsb2NhbGU6IHB0QlIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICA8L0ZsZXg+XG4gICAgICAgIDxGbGV4XG4gICAgICAgICAgZGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjgwMFwiXG4gICAgICAgICAgYm9yZGVyUmFkaXVzPVwibWRcIlxuICAgICAgICAgIHdpZHRoPVwiMTAwJVwiXG4gICAgICAgICAgbWF4SGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgICAgcGFkZGluZz17Nn1cbiAgICAgICAgPlxuICAgICAgICAgIDxCb3ggbWFyZ2luQm90dG9tPXs4fSB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIzJVwiIGNvbG9yPVwiZ3JheS4yMDBcIj5cbiAgICAgICAgICAgIDxUaXRsZSBjc3M9e3sgY29sb3I6ICdncmF5LjIwMCcgfX0+Q2hhdDwvVGl0bGU+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPEZsZXhcbiAgICAgICAgICAgIGRpcmVjdGlvbj1cImNvbHVtblwiXG4gICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxuICAgICAgICAgICAgaGVpZ2h0PVwiODUlXCJcbiAgICAgICAgICAgIG92ZXJmbG93WT1cImF1dG9cIlxuICAgICAgICAgICAgYm9yZGVyQm90dG9tPVwiMnB4IHNvbGlkICNmZmZcIlxuICAgICAgICAgICAgcmVmPXttZXNzYWdlc0NvbnRhaW5lclJlZn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bWVzc2FnZXMubWFwKGFjdHVhbE1lc3NhZ2UgPT4gKFxuICAgICAgICAgICAgICA8TWVzc2FnZUJveFxuICAgICAgICAgICAgICAgIGtleT17YWN0dWFsTWVzc2FnZS5pZH1cbiAgICAgICAgICAgICAgICB1c2VybmFtZT17YWN0dWFsTWVzc2FnZS5zZW5kZXJ9XG4gICAgICAgICAgICAgICAgbWVzc2FnZT17YWN0dWFsTWVzc2FnZS5jb250ZW50fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgIDxGbGV4IHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEyJVwiIHBhZGRpbmdUb3A9ezJ9PlxuICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleVVwPXtlID0+IGhhbmRsZUtleVVwKGUpfVxuICAgICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEaWdpdGUgc3VhIG1lbnNhZ2VtXCJcbiAgICAgICAgICAgICAgY29sb3I9XCJXaGl0ZVwiXG4gICAgICAgICAgICAgIHdpZHRoPVwiODYlXCJcbiAgICAgICAgICAgICAgYm9yZGVyPXswfVxuICAgICAgICAgICAgICBtaW5IZWlnaHQ9ezJ9XG4gICAgICAgICAgICAgIGhlaWdodD1cIjEwMCVcIlxuICAgICAgICAgICAgICByZXNpemU9XCJub25lXCJcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzPVwiOHB4IDAgMCA4cHhcIlxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjcwMFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFRvb2x0aXAgbGFiZWw9XCJFbnZpYXIgbWVuc2FnZW1cIiBhcmlhLWxhYmVsPVwiRW52aWFyIG1lbnNhZ2VtXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIHdpZHRoPVwiMTQlXCJcbiAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxMDAlXCJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJncmF5LjcwMFwiXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzPVwiMCA4cHggOHB4IDBcIlxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCJcbiAgICAgICAgICAgICAgICBfaG92ZXI9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2dyYXkuOTAwJyxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEZpU2VuZCBjb2xvcj1cIldoaXRlXCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgPC9GbGV4PlxuICAgICAgPC9Cb3g+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXZlO1xuIl19 */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\n\nvar Live = function Live() {\n  _s();\n\n  var _deceased$funeral;\n\n  var router = useRouter();\n\n  var _useState = useState({}),\n      deceased = _useState[0],\n      setDeceased = _useState[1];\n\n  var _useState2 = useState(''),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      message = _useState3[0],\n      setMessage = _useState3[1];\n\n  var _useState4 = useState([]),\n      messages = _useState4[0],\n      setMessages = _useState4[1];\n\n  var messagesContainerRef = useRef(null);\n\n  var _useDisclosure = useDisclosure(),\n      isGetUsernameModalOpen = _useDisclosure.isOpen,\n      onOpenGetUsernameModal = _useDisclosure.onOpen,\n      onCloseGetUsernameModal = _useDisclosure.onClose;\n\n  var scrollToLastMessage = useCallback(function () {\n    var _messagesContainerRef2;\n\n    var ignoreScrollTopOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (!messagesContainerRef.current) return;\n    var _messagesContainerRef = messagesContainerRef.current,\n        scrollHeight = _messagesContainerRef.scrollHeight,\n        scrollTop = _messagesContainerRef.scrollTop;\n    console.log(messagesContainerRef.current.scrollHeight);\n    console.log(messagesContainerRef.current.scrollTop);\n    if (!ignoreScrollTopOffset && scrollHeight - scrollTop >= 1000) return;\n    (_messagesContainerRef2 = messagesContainerRef.current) === null || _messagesContainerRef2 === void 0 ? void 0 : _messagesContainerRef2.scrollTo({\n      top: scrollHeight\n    });\n  }, []);\n  useEffect(function () {\n    scrollToLastMessage();\n  }, [messages, scrollToLastMessage]);\n  useEffect(function () {\n    var queryId = router.query.id;\n\n    if (queryId === undefined) {\n      return;\n    }\n\n    if (!queryId.length || !isUuid.v4(queryId)) {\n      router.replace('/login');\n      return;\n    }\n\n    onOpenGetUsernameModal();\n    api.get(\"deceaseds/\".concat(queryId)).then(function (response) {\n      setDeceased(response.data);\n    });\n    api.get(\"/messages/\".concat(queryId)).then(function (response) {\n      var messagesResponse = response.data;\n      setMessages(messagesResponse);\n      scrollToLastMessage(true);\n    });\n  }, [router.query.id]);\n  var onSaveUsername = useCallback(function (name) {\n    setUsername(name);\n    onCloseGetUsernameModal();\n    var socket = io(process.env.NEXT_PUBLIC_API_URL, {\n      query: {\n        username: name\n      }\n    });\n    socket.emit('join', deceased.id);\n    socket.on('new', function (msg) {\n      setMessages(function (state) {\n        return [].concat(_toConsumableArray(state), [msg]);\n      });\n    });\n  }, [deceased]);\n  var handleSubmitMessage = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var messageData;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            messageData = {\n              sender: username,\n              content: message,\n              channel: deceased.id\n            };\n            _context.next = 3;\n            return api.post('/messages', messageData);\n\n          case 3:\n            setMessage('');\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [message, username, deceased, scrollToLastMessage]);\n  var handleKeyUp = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (e.key === 'Enter' || e.keyCode === 13) {\n                handleSubmitMessage();\n              }\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [handleSubmitMessage]);\n  return ___EmotionJSX(React.Fragment, null, ___EmotionJSX(SEO, {\n    title: \"Endor\",\n    image: \"og/boost.png\",\n    shouldExcludeTitleSuffix: true,\n    description: \"Fazer login na plataforma\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }), ___EmotionJSX(SetUsernameForLiveTelespectors, {\n    onSave: onSaveUsername,\n    isOpen: isGetUsernameModalOpen,\n    onClose: onCloseGetUsernameModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }), ___EmotionJSX(Box, {\n    display: \"grid\",\n    gridTemplateColumns: \"75% 25%\",\n    gridTemplateRows: \"100%\",\n    as: \"main\",\n    height: \"100vh\",\n    width: \"100%\",\n    paddingX: 6,\n    backgroundColor: \"gray.900\",\n    paddingTop: 8,\n    paddingBottom: 8,\n    paddingRight: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, ___EmotionJSX(Flex, {\n    direction: \"column\",\n    marginRight: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(\"iframe\", {\n    src: deceased.live_chat_link,\n    frameBorder: \"0\",\n    title: deceased.id,\n    style: {\n      width: '100%',\n      height: '75%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }), ___EmotionJSX(Flex, {\n    backgroundColor: \"gray.800\",\n    marginTop: 8,\n    paddingTop: 6,\n    paddingRight: 6,\n    paddingLeft: 6,\n    paddingBottom: 6,\n    borderRadius: \"md\",\n    width: \"100%\",\n    height: \"25%\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, ___EmotionJSX(Box, {\n    width: \"100%\",\n    color: \"gray.200\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, ___EmotionJSX(Title, {\n    css: _ref3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, deceased.name), ___EmotionJSX(Text, {\n    fontSize: \"xl\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, deceased === null || deceased === void 0 ? void 0 : (_deceased$funeral = deceased.funeral) === null || _deceased$funeral === void 0 ? void 0 : _deceased$funeral.name), deceased.funeral_final_date && deceased.funeral_initial_date && deceased.sepulting_date && ___EmotionJSX(React.Fragment, null, ___EmotionJSX(Flex, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, ___EmotionJSX(Text, {\n    fontSize: \"xl\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 23\n    }\n  }, format(new Date(deceased.funeral_initial_date), \"'Velório: 'dd'/'MM'/'yyyy 'das' HH:mm\", {\n    locale: ptBR\n  }), ' às ', format(new Date(deceased.funeral_final_date), 'HH:mm', {\n    locale: ptBR\n  }))), ___EmotionJSX(Flex, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, ___EmotionJSX(Text, {\n    fontSize: \"xl\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 23\n    }\n  }, format(new Date(deceased.sepulting_date), \"'Sepultamento: 'dd'/'MM'/'yyyy 'às' HH:mm\", {\n    locale: ptBR\n  }))))))), ___EmotionJSX(Flex, {\n    direction: \"column\",\n    backgroundColor: \"gray.800\",\n    borderRadius: \"md\",\n    width: \"100%\",\n    maxHeight: \"100%\",\n    padding: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(Box, {\n    marginBottom: 8,\n    width: \"100%\",\n    height: \"3%\",\n    color: \"gray.200\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, ___EmotionJSX(Title, {\n    css: _ref4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, \"Chat\")), ___EmotionJSX(Flex, {\n    direction: \"column\",\n    width: \"100%\",\n    height: \"85%\",\n    overflowY: \"auto\",\n    borderBottom: \"2px solid #fff\",\n    ref: messagesContainerRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }\n  }, messages.map(function (actualMessage) {\n    return ___EmotionJSX(MessageBox, {\n      key: actualMessage.id,\n      username: actualMessage.sender,\n      message: actualMessage.content,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 15\n      }\n    });\n  })), ___EmotionJSX(Flex, {\n    width: \"100%\",\n    height: \"12%\",\n    paddingTop: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }, ___EmotionJSX(Textarea, {\n    onChange: function onChange(e) {\n      return setMessage(e.target.value);\n    },\n    onKeyUp: function onKeyUp(e) {\n      return handleKeyUp(e);\n    },\n    value: message,\n    placeholder: \"Digite sua mensagem\",\n    color: \"White\",\n    width: \"86%\",\n    border: 0,\n    minHeight: 2,\n    height: \"100%\",\n    resize: \"none\",\n    borderRadius: \"8px 0 0 8px\",\n    backgroundColor: \"gray.700\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }), ___EmotionJSX(Tooltip, {\n    label: \"Enviar mensagem\",\n    \"aria-label\": \"Enviar mensagem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, ___EmotionJSX(Button, {\n    onClick: handleSubmitMessage,\n    width: \"14%\",\n    height: \"100%\",\n    backgroundColor: \"gray.700\",\n    borderRadius: \"0 8px 8px 0\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    _hover: {\n      backgroundColor: 'gray.900'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }, ___EmotionJSX(FiSend, {\n    color: \"White\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 17\n    }\n  })))))));\n};\n\n_s(Live, \"Osk4H6KrIgQV7vIS3wuAiqFJLkM=\", false, function () {\n  return [useRouter, useDisclosure];\n});\n\n_c = Live;\nexport default Live;\n\nvar _c;\n\n$RefreshReg$(_c, \"Live\");","map":{"version":3,"sources":["/home/matheus/Documents/drive-sync/Projects/endor/packages/web/src/pages/live.tsx"],"names":["useRouter","React","useCallback","useEffect","useState","useRef","FiSend","Flex","Box","Text","Textarea","Button","Tooltip","useDisclosure","format","ptBR","isUuid","io","MessageBox","SetUsernameForLiveTelespectors","SEO","Title","api","Live","router","deceased","setDeceased","username","setUsername","message","setMessage","messages","setMessages","messagesContainerRef","isGetUsernameModalOpen","isOpen","onOpenGetUsernameModal","onOpen","onCloseGetUsernameModal","onClose","scrollToLastMessage","ignoreScrollTopOffset","current","scrollHeight","scrollTop","console","log","scrollTo","top","queryId","query","id","undefined","length","v4","replace","get","then","response","data","messagesResponse","onSaveUsername","name","socket","process","env","NEXT_PUBLIC_API_URL","emit","on","msg","state","handleSubmitMessage","messageData","sender","content","channel","post","handleKeyUp","e","key","keyCode","live_chat_link","width","height","funeral","funeral_final_date","funeral_initial_date","sepulting_date","Date","locale","map","actualMessage","target","value","backgroundColor"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\nimport React, { useCallback, useEffect, useState, useRef } from 'react';\nimport { FiSend } from 'react-icons/fi';\n\nimport {\n  Flex,\n  Box,\n  Text,\n  Textarea,\n  Button,\n  Tooltip,\n  useDisclosure,\n} from '@chakra-ui/core';\nimport { format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport isUuid from 'is-uuid';\nimport io from 'socket.io-client';\n\nimport MessageBox from '@/components/MessageBox';\nimport SetUsernameForLiveTelespectors from '@/components/Modals/SetUsernameForLiveTelespectors';\nimport SEO from '@/components/SEO';\nimport Title from '@/components/Title';\nimport api from '@/services/api';\n\ninterface IMessage {\n  id: string;\n  sender: string;\n  content: string;\n}\n\n// eslint-disable-next-line\ninterface Deceased {\n  id?: string;\n  name?: string;\n  live_chat_link?: string;\n  funeral_initial_date?: string;\n  funeral_final_date?: string;\n  sepulting_date?: string;\n  funeral?: {\n    name?: string;\n    cemetery?: {\n      name?: string;\n    };\n  };\n}\n\nconst Live: React.FC = () => {\n  const router = useRouter();\n\n  const [deceased, setDeceased] = useState<Deceased>({} as Deceased);\n  const [username, setUsername] = useState<string>('');\n  const [message, setMessage] = useState<string>('');\n  const [messages, setMessages] = useState<IMessage[]>([] as IMessage[]);\n\n  const messagesContainerRef = useRef<HTMLDivElement>(null);\n\n  const {\n    isOpen: isGetUsernameModalOpen,\n    onOpen: onOpenGetUsernameModal,\n    onClose: onCloseGetUsernameModal,\n  } = useDisclosure();\n\n  const scrollToLastMessage = useCallback((ignoreScrollTopOffset = false) => {\n    if (!messagesContainerRef.current) return;\n\n    const { scrollHeight, scrollTop } = messagesContainerRef.current;\n\n    console.log(messagesContainerRef.current.scrollHeight);\n    console.log(messagesContainerRef.current.scrollTop);\n\n    if (!ignoreScrollTopOffset && scrollHeight - scrollTop >= 1000) return;\n\n    messagesContainerRef.current?.scrollTo({\n      top: scrollHeight,\n    });\n  }, []);\n\n  useEffect(() => {\n    scrollToLastMessage();\n  }, [messages, scrollToLastMessage]);\n\n  useEffect(() => {\n    const queryId = router.query.id as string;\n\n    if (queryId === undefined) {\n      return;\n    }\n\n    if (!queryId.length || !isUuid.v4(queryId)) {\n      router.replace('/login');\n      return;\n    }\n\n    onOpenGetUsernameModal();\n\n    api.get(`deceaseds/${queryId}`).then(response => {\n      setDeceased(response.data);\n    });\n\n    api.get(`/messages/${queryId}`).then(response => {\n      const messagesResponse = response.data;\n\n      setMessages(messagesResponse);\n      scrollToLastMessage(true);\n    });\n  }, [router.query.id]);\n\n  const onSaveUsername = useCallback(\n    (name: string) => {\n      setUsername(name);\n\n      onCloseGetUsernameModal();\n\n      const socket = io(process.env.NEXT_PUBLIC_API_URL, {\n        query: { username: name },\n      });\n\n      socket.emit('join', deceased.id);\n\n      socket.on('new', (msg: IMessage) => {\n        setMessages(state => [...state, msg]);\n      });\n    },\n    [deceased],\n  );\n\n  const handleSubmitMessage = useCallback(async () => {\n    const messageData = {\n      sender: username,\n      content: message,\n      channel: deceased.id,\n    };\n\n    await api.post('/messages', messageData);\n\n    setMessage('');\n  }, [message, username, deceased, scrollToLastMessage]);\n\n  const handleKeyUp = useCallback(\n    async e => {\n      if (e.key === 'Enter' || e.keyCode === 13) {\n        handleSubmitMessage();\n      }\n    },\n    [handleSubmitMessage],\n  );\n\n  return (\n    <>\n      <SEO\n        title=\"Endor\"\n        image=\"og/boost.png\"\n        shouldExcludeTitleSuffix\n        description=\"Fazer login na plataforma\"\n      />\n\n      <SetUsernameForLiveTelespectors\n        onSave={onSaveUsername}\n        isOpen={isGetUsernameModalOpen}\n        onClose={onCloseGetUsernameModal}\n      />\n\n      <Box\n        display=\"grid\"\n        gridTemplateColumns=\"75% 25%\"\n        gridTemplateRows=\"100%\"\n        as=\"main\"\n        height=\"100vh\"\n        width=\"100%\"\n        paddingX={6}\n        backgroundColor=\"gray.900\"\n        paddingTop={8}\n        paddingBottom={8}\n        paddingRight={8}\n      >\n        <Flex direction=\"column\" marginRight={8}>\n          <iframe\n            src={deceased.live_chat_link}\n            frameBorder=\"0\"\n            title={deceased.id}\n            style={{ width: '100%', height: '75%' }}\n          ></iframe>\n          <Flex\n            backgroundColor=\"gray.800\"\n            marginTop={8}\n            paddingTop={6}\n            paddingRight={6}\n            paddingLeft={6}\n            paddingBottom={6}\n            borderRadius=\"md\"\n            width=\"100%\"\n            height=\"25%\"\n          >\n            <Box width=\"100%\" color=\"gray.200\">\n              <Title css={{ color: 'gray.200' }}>{deceased.name}</Title>\n              <Text fontSize=\"xl\">{deceased?.funeral?.name}</Text>\n              {deceased.funeral_final_date &&\n                deceased.funeral_initial_date &&\n                deceased.sepulting_date && (\n                  <>\n                    <Flex>\n                      <Text fontSize=\"xl\">\n                        {format(\n                          new Date(deceased.funeral_initial_date),\n                          \"'Velório: 'dd'/'MM'/'yyyy 'das' HH:mm\",\n                          { locale: ptBR },\n                        )}\n                        {' às '}\n                        {format(\n                          new Date(deceased.funeral_final_date),\n                          'HH:mm',\n                          {\n                            locale: ptBR,\n                          },\n                        )}\n                      </Text>\n                    </Flex>\n                    <Flex>\n                      <Text fontSize=\"xl\">\n                        {format(\n                          new Date(deceased.sepulting_date),\n                          \"'Sepultamento: 'dd'/'MM'/'yyyy 'às' HH:mm\",\n                          { locale: ptBR },\n                        )}\n                      </Text>\n                    </Flex>\n                  </>\n                )}\n            </Box>\n          </Flex>\n        </Flex>\n        <Flex\n          direction=\"column\"\n          backgroundColor=\"gray.800\"\n          borderRadius=\"md\"\n          width=\"100%\"\n          maxHeight=\"100%\"\n          padding={6}\n        >\n          <Box marginBottom={8} width=\"100%\" height=\"3%\" color=\"gray.200\">\n            <Title css={{ color: 'gray.200' }}>Chat</Title>\n          </Box>\n          <Flex\n            direction=\"column\"\n            width=\"100%\"\n            height=\"85%\"\n            overflowY=\"auto\"\n            borderBottom=\"2px solid #fff\"\n            ref={messagesContainerRef}\n          >\n            {messages.map(actualMessage => (\n              <MessageBox\n                key={actualMessage.id}\n                username={actualMessage.sender}\n                message={actualMessage.content}\n              />\n            ))}\n          </Flex>\n          <Flex width=\"100%\" height=\"12%\" paddingTop={2}>\n            <Textarea\n              onChange={e => setMessage(e.target.value)}\n              onKeyUp={e => handleKeyUp(e)}\n              value={message}\n              placeholder=\"Digite sua mensagem\"\n              color=\"White\"\n              width=\"86%\"\n              border={0}\n              minHeight={2}\n              height=\"100%\"\n              resize=\"none\"\n              borderRadius=\"8px 0 0 8px\"\n              backgroundColor=\"gray.700\"\n            />\n            <Tooltip label=\"Enviar mensagem\" aria-label=\"Enviar mensagem\">\n              <Button\n                onClick={handleSubmitMessage}\n                width=\"14%\"\n                height=\"100%\"\n                backgroundColor=\"gray.700\"\n                borderRadius=\"0 8px 8px 0\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n                _hover={{\n                  backgroundColor: 'gray.900',\n                }}\n              >\n                <FiSend color=\"White\" size={20} />\n              </Button>\n            </Tooltip>\n          </Flex>\n        </Flex>\n      </Box>\n    </>\n  );\n};\n\nexport default Live;\n"]},"metadata":{},"sourceType":"module"}