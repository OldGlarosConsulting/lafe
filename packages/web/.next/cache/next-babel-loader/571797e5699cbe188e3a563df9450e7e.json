{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport Cookies from '@/lib/cookies';\n\nconst usePersistedState = (key, initialState) => {\n  const {\n    0: state,\n    1: setState\n  } = useState(() => {\n    const persistedValue = Cookies.get(key);\n\n    if (persistedValue) {\n      return persistedValue;\n    }\n\n    return initialState;\n  });\n  useEffect(() => {\n    Cookies.set(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n};\n\nexport default usePersistedState;","map":{"version":3,"sources":["/home/matheus/Documents/drive-sync/Projects/lafe/packages/web/src/utils/hooks/usePersistedState.ts"],"names":["useState","useEffect","Cookies","usePersistedState","key","initialState","state","setState","persistedValue","get","set","JSON","stringify"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAOC,OAAP,MAAoB,eAApB;;AAEA,MAAMC,iBAAiB,GAAG,CACxBC,GADwB,EAExBC,YAFwB,KAGG;AAC3B,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC,MAAM;AACvC,UAAMQ,cAAc,GAAGN,OAAO,CAACO,GAAR,CAAeL,GAAf,CAAvB;;AAEA,QAAII,cAAJ,EAAoB;AAClB,aAAOA,cAAP;AACD;;AAED,WAAOH,YAAP;AACD,GARiC,CAAlC;AAUAJ,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,OAAO,CAACQ,GAAR,CAAYN,GAAZ,EAAiBO,IAAI,CAACC,SAAL,CAAeN,KAAf,CAAjB;AACD,GAFQ,EAEN,CAACF,GAAD,EAAME,KAAN,CAFM,CAAT;AAIA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACD,CAnBD;;AAqBA,eAAeJ,iBAAf","sourcesContent":["import { useState, useEffect } from 'react';\n\nimport Cookies from '@/lib/cookies';\n\nconst usePersistedState = <T = any>(\n  key: string,\n  initialState: T,\n): [T, React.Dispatch<T>] => {\n  const [state, setState] = useState(() => {\n    const persistedValue = Cookies.get<T>(key);\n\n    if (persistedValue) {\n      return persistedValue;\n    }\n\n    return initialState;\n  });\n\n  useEffect(() => {\n    Cookies.set(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n};\n\nexport default usePersistedState;\n"]},"metadata":{},"sourceType":"module"}